<!--Second Nav Bar-->
<div class="col-sm-10 text-center mb-2">
    <nav class="navbar navbar-expand-lg bg-light">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav me-auto">
                    <li><button class="btn btn-danger" type="button" (click)="backToHome()">Back</button></li>

                </ul>
                <ul class="navbar-nav me-auto">
                    <li>
                        <div class="input-group">
                            <div class="form-outline">
                                <input type="search" placeholder="enter Payment Id" [(ngModel)]='paymentId'
                                    name="paymentId" class="form-control" />
                            </div>
                            <button type="button" class="btn btn-danger" (click)="searchByPaymentId(paymentId)">
                                <i class="bi bi-search"></i>
                            </button>
                        </div>


                    </li>

                </ul>

            </div>
        </div>
    </nav>
</div>
<!--books display-->
<div class="row gy-2 my-2">
    <div class="col-sm-2" *ngFor="let book of bookData">
        <div class="card">
            <img [src]="book.book.image" width="50" height="160" class="card-img-top" alt="...">
            <div class="card-body">
                <p class="card-text">
                    <label>Title: </label>
                    {{book.book.title}}
                </p>
                <p class="card-text">
                    <label>Price: </label> {{book.book.price| currency:'INR'}}
                </p>

            </div>
        </div>
    </div>

<!--Table display-->
<div class="container">

<table class="table">
    <thead>
        <tr>
            <th scope="col">Payment Id</th>
            <th scope="col">Date</th>
            <th scope="col">BookId</th>
            <th scope="col">Book Name</th>
            <th scope="col">Publisher</th>
            <th scope="col">Price</th>
            <th scope="col">Read</th>
            <th scope="col">Refund</th>
            <th scope="col">status</th>

        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let payment of payments">
            <td>{{payment.id}}</td>
            <td>{{payment.paymentDate}}</td>
            <td>{{payment.book.id}}</td>
            <td>{{payment.book.title}}</td>
            <td>{{payment.book.publisher}}</td>
            <td>{{payment.book.price }}</td>

            <td><button type="button" class="btn btn-dark" [disabled]="payment.paymentStatus=='CANCLLED'?1:0"   (click)="readContent(payment)"><i class="bi bi-download"></i></button></td>
            <td><button type="button" [disabled]="!payment.refundStatus || payment.paymentStatus=='CANCLLED'?1:0" class="btn btn-dark"
                    (click)="refund(payment)"><i class="bi bi-cash"></i></button></td>
            <td>{{payment.paymentStatus }}</td>
        </tr>

    </tbody>
</table>

</div>



