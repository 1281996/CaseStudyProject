package com.cog.service;

import static org.junit.jupiter.api.Assertions.*;
import static org.mockito.Mockito.when;

import java.util.ArrayList;
import java.util.List;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.Mock;
import org.mockito.junit.jupiter.MockitoExtension;
import org.springframework.beans.factory.annotation.Autowired;

import com.cog.entity.Book;
import com.cog.repository.BookRepository;

@ExtendWith(MockitoExtension.class)
class BookServiceTest {
	@Mock
	BookRepository bookRepository;
	@Mock
	RoleService roleService;
	@Mock
	UserDetailsServiceImpl userServiceImpl;

	@Test
	void testSaveBook() {

	}

	@Test
	void testEditBook() {
		fail("Not yet implemented");
	}

	@Test
	void testGetAllMyBooks() {
		when(bookRepository.findAll()).then(getBookDto());
	}

	List<Book> getBookDto() {
		List<Book> books=new ArrayList<>();
		Book book = new Book();
		book.setCategory(book.getCategory());
		book.setContent(book.getContent());
		book.setId(book.getId());
		book.setImage(book.getImage());
		book.setPrice(book.getPrice());
		book.setPublisher(book.getPublisher());
		book.setReleasedDate(book.getReleasedDate());
		book.setRole(book.getRole());
		book.setStatus(book.getStatus());
		book.setTitle(book.getTitle());
		book.setUser(book.getUser());
		books.add(book);
	}
}
