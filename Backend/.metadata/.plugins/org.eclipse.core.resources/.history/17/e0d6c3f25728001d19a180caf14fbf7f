package com.cog.service;

import java.time.LocalDateTime;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.cog.dao.UserRepository;
import com.cog.dto.UserDto;
import com.cog.entity.User;
import com.cog.enums.Event;

@Service
public class UserService {
	@Autowired
	UserRepository userRepository;

	public UserDto saveUser(UserDto userDto) {

		User user=setUserData(userDto);
		
		User createdUser=userRepository.save(user);
		
		userDto.setId(createdUser.getId());
		return userDto;
	}

	private User setUserData(UserDto userDto) {
		User user=new User();
		user.setEmailId(userDto.getEmailId());
		user.setFirstName(userDto.getFirstName());
		user.setLastName(userDto.getLastName());
		user.setPassword(userDto.getPassword());
		user.setRegisteredDate(LocalDateTime.now());
		user.setStatus(Event.ACTIVE);
		return user;
	}

}
